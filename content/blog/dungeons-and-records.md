---
title: "Dungeons and Records"
description: "Navigating records in a 7+ Year D&D Campaign"
date: "2025-03-25"
category: "technology"
tags: ["D&D", "records", "scripting", "python", "notion"]
titleImage: "/images/blog/dungeons-and-records.png"
---


## Record Keeping in a 7+ Year D&D Campaign


In the fall of 2018, while working as a Technical Consultant at Sopheon, I had the inspiration to start an after-work Dungeons and Dragons campaign. I had become friends with many of my fellow consultants over the preceeding year, and I had a growing itch to roll some dice! I have been playing tabletop RPGs since high school, and have found myself in the 'forever DM' category. As much fun as these games are to play, I truly love being able to fascilitate the game for other players. I have a unique blend of storytelling skills, systems understanding, and honestly - a deep empathy for my players. I don't want to *just* subject my players to some imagined magnum opus of fictional writing (which bears suspiciouis resemblence to all of my favorite IPs run through a blender) - rather, I try to create an exerpeince that reflects their own passions, player needs, and game-tempo demands. Apparently this approach has had some success; what began as a casual exploration of player interest has evolved into the longest running campaign of my life!

Anyone who has tried to coordinate D&D campaigns knows the particular struggle this represents. For a game to truly come alive, a certain commitment is required. Everything works best when you have a reliable player base meeting regularly. Even if people are interested to start, commitment is key. I've participated in countless games that start out strong, but by session five have all but peetered out. So I was totally unprepared when this after-work game I began broke through five games. Then ten. Twenty followed swiftly. Our game quickly picked up momentum, and a regular cadence was established. 

As soon as our work duties were completed on a Wednsday, we sprung into action. Beer and burritos were swiftly acquired from nearby restraunts. I would break out a large canvas battlemap, and draw the current landscape. The session would begin, the night's drama would unfold. The party quickly established a name for themselves - **The Order of Sun & Moon**. Heroes sworn to upholding the good, they would engage in every form of chaotic mischief on their way to save the Kingdom of Dawn from orcs, dragons, and lost elven artifacts alike. The party transformed from business collegues to lifelong friends, and the game picked up a mystique of its own. Office gossip was always interested in the latest exploits of the party!

I was totally unprepared for this game's runaway success. From August 2018 through the end of 2019, we ran **53** game sessions! Assuming that represents around 73 weeks total, our campaign met on 73% of all possible weeks. If we took out holidays and vacations, and this percentage would grow even higher. This was a truly amazing period of D&D gaming! Practically every week without fail we would be rolling dice. It is definitley the high-water mark from my time at Sopheon, and it led to these players to becoming lifelong friends of mine. 

Which brings us back to the 'totally unprepared for the success of the game' bit. Initially, I didn't keep the best of notes. The story was simple. The number of NPCs - manageable. Of course, this grew. And grew. And still continues to grow. If I were to approach a new campaign today, I'd begin it with a rock solid strategy employing Notion (link) for everything. My note strategy for the start of this campaign instead relied on my work laptop's OneNote to store session data, NPCs, magic items, monster stats, etc. OneNote was actually pretty good for this task, and I quickly started using its capabilities more extensively for more detailed record keeping.

When the pandemic hit, our office closed. While this represented a very difficult period, we were determined to keep our game going. What once were in-person game sessions moved to Roll20 (link) for a virtual tabletop experience. Discord (link) was used for the communication platform, and we made do. The story continued. Indeed, it is still ongoing to this day! However, a new problem was lurking in my record keeping system for this campaign...

*ALL of my notes are on a work laptop!*

#### A Vanishing Tome

It was a twist of fate I never would have guessed at the campaign's outset - my employment at Sopheon came to an end before the campaign itself did. After six years with the company, I had found a new, exciting offer. One worth shaking things up for. This meant saying goodbye to my first *real* career company, and starting out as a fully remote Software Engineer for a Sillicon Valley startup. It also meant giving up my work laptop. The laptop that now had over *five years* of D&D notes on it!

At first, I was optimistic. All of my important notes were on OneNote, which was synced to my MS Active Directory account. Even if the laptop were lost or damaged, all of my data would still exist. So I was never worried about data loss. What I hadn't sufficently considered was data portability. While this data *was* secure in the MS AD world, that world was not mine to control. Despite extensive research on my part, I could never gain access to the actual file that OneNote was writing my notes against. I could see the data through OneNote, but I had exactly zero ability to export it directly. I had also given my two weeks notice, and there was a very real ticking clock on this matter. So I resorted to desperate measusures, and individaully copy/pasted every out of the application. Every. Single. Note. By hand. 

Five years of gaming had seen this collection of notes grow considerablly. There are 193 (!!) gameplay session notes alone to copy. Plus additional notes for dungeon encounters. Loot tables. Powerful magical items. Custom monster stat blocks. It represented a ton of manual effort to move, and move it I did. Unfortunatley, the destination system I chose turned out to be suboptimal as well. Fearing loss of access to this data a second time, I moved it to the most secure and personal system I use: my primary Google account. I copied every single note by hand into Google Keep (link).

This seemed like a good idea at the time. If I ever lost access to my Google account, I'd probably just cease to exist as a person. The nexus of account identification it represents is really scary to consider (and thus I try not to consider this often). Google Keep seemed like Google's answer to OneNote, and I generally had enjoyed using OneNote. So I moved everything there. Safe and secure, nestled into my little personal Google ecosystem of data. This story gets a happy ending!

If D&D players know one thing, it's that happy endings are hard to come by. Google Keep turned out to be a terrible system for my D&D notes! It simply lacks the organizational structure to make for a rigerous note taking system. I did go on to use this for a while further, out of some stubborn insistance that this is fine. So fine! But it wasn't fine. I'm not sure what use case Google Keep is actually supposed to solve for, but a complex D&D campaign is not it. Eventually my players got tired of me constantly complaining about Google Keep, and they encouraged me to explore Obsidian (link) and Notion (link).

I would explore Obsidian, and it has some really cool ideas. However, a lifetime of Excel usage has damaged my brain, and I really like to keep things in nice, orderly, structured formats. Obsidian felt too gooey in my hands. Notion, however, I immediatley fell for. I think is is an absolutley brilliant system, and it felt like a perfect fit for my D&D notes. Creating an elaboratly structured and deeply nested file system is an old passion of mine, and I quickly set to work at using Notion going forward. All of my new gameplay notes would be based out of Notion, and it is still the system I use for this campaign. I've also run one-shot games out of Notion, and absolutley loved using it on a laptop for an in-person gaming day!

#### Secrets of the Kept Vault

There is a key phrase in that prior paragraph - all of my notes *going forward* were to be in Notion. All of the game's historical notes were still in GKeep. In some sort of cosmic irony, moving them out of GKeep and into Notion once again proved non-trivial. Two problems were immediately apparent:
1) GKeep and Notion don't share a common data format. I can't just copy and paste a bunch of notes in one go out of Keep and into Notion
2) My Notes in GKeep weren't even notes. They were images.

Wait - *what??*

Yes. While I did not realize it at the time, copying and pasting from OneNote into Google Keep rasterized all of my note data, and Google stored it as an image. I honestly have no idea how it decided that's what I wanted. It's something I should have caught earlier, but I was busy with the whole 'changing jobs and evacuating personal data from my work laptop' thing. So five years of gameplay notes were now stored in the wrong system, and as images. For a long while, I would have a GKeep tab open during my D&D sessions, and have to rifle through old notes to find key details as they became relevant. Luckily as time went on, the need to reference old notes slowly diminished. The Order of Sun & Moon would also go back in time and dramatically change the timeline, which left much of these notes as "Prime Timeline" compared to the "Age of Chaos" they spawned. This further diminished my need to reference the original game notes.

*DM's Note - keeping time-travel storylines coherent is **really hard***

The day finally came, however, where I could no longer bear having my notes split like this. So I put on my software engineering hat, and began to solve the problem. First, the data from Google Keep would need to be properly exported. Luckly, Google easily provides the tools to do so. By selecting just Google Keep as the data source, I was provided with a `.zip` archive containing all of my GKeep notes. I've only ever used GKeep for D&D campaigns, so no other data filtering would be necessary. However, the exported data format would prove a (fun) challenge. All of the notes came down as `.json` files. Each `.json` file would include information about the title, text content (sometimes GKeep did have a note in text instead of an image), and attached images (which represented most of the note content). The notes also had metadata tags, which I had used to represent which "season" of the D&D campaign the note was associated with. The `.zip` archive also included pre-baked HTML files for each note, so I could see how the original note looked. However, the `.html` files were not super useful, as their image data was encoded like this: `<img alt="" src="1635528659104.292308922.png">`. To move the data into Notion succesfully, I would need to generate `.html` files with the following properties:

1) The note's original image data would need to be encoded as a Base64 (link) string. By doing so, the `src=` attribute would directly contain all of the image data, without relying on an external file. Notion supports directly embedding image data like this, but not referecing external files for the data.
2) Ideally, the image data would also have OCR parsing applied, and the note data returned to a string format. By doing so, I would gain the ability to search for the note content in Notion.

I thought the the resulting Python script would be relatively lightweight. However as I experimented with the process, it would continue to grow in complexity and gain features. I should have started a GH project for it sooner, but I kept thinking "one more change and its perfect!". The final result, at least is now available on Github here (link). 

As I experimented with the script, I decided that the final result should do the following:
- Use Tesseract OCR (link) to translate image data
- Optionally, also use the OpenAI API to translate image data. This allows for a comparison of existing OCR technology, versus state-of-the-art multimodal LLM tech
- Cache OCR results in individual files. (This was added after I got tired of constantly re-running the OCR when I was playing with other aspects of the script)
- Create `.html` output with both the original image data, Tessearct OCR, and OpenAI API stringified data. These `html` files would use collapsible sections to visually hide each section until needed.
- Create `.md` output with the OCR result. This allows for later experiments on the data (more on this in a later blog post!)

With these capabilities implemented, the mess that is this:

[image]

Now produces clean files like this:

[image].


#### ...And You Level Up




